<p>Class: GraphQL::Schema::Warden &lt; Object
This class is part of a private API.
Restrict access to a GraphQL::Schema with a user-defined filter. 
When validating and executing a query, all access to schema members
should go through a warden. If you access the schema directly, you
may show a client something that it shouldn’t be allowed to see. 
Examples:</p>
<h1 id="hidding-private-fields">Hidding private fields</h1>
<p>private_members = -&gt; (member, ctx) { member.metadata[:private] }
result = Schema.execute(query_string, except: private_members)</p>
<h1 id="custom-filter-implementation">Custom filter implementation</h1>
<h1 id="it-must-respond-to-callmember">It must respond to <code class="highlighter-rouge">#call(member)</code>.</h1>
<p>class MissingRequiredFlags
def initialize(user)
@user = user
end</p>
<h1 id="return-false-if-any-required-flags-are-missing">Return <code class="highlighter-rouge">false</code> if any required flags are missing</h1>
<p>def call(member, ctx)
member.metadata[:required_flags].any? do |flag|
!@user.has_flag?(flag)
end
end
end</p>
<h1 id="then-use-the-custom-filter-in-query">Then, use the custom filter in query:</h1>
<p>missing_required_flags = MissingRequiredFlags.new(current_user)</p>
<h1 id="this-query-can-only-access-members-which-match-the-users-flags">This query can only access members which match the user’s flags</h1>
<p>result = Schema.execute(query_string, except: missing_required_flags)
Direct Known Subclasses:
Query::NullContext::NullWarden
Instance methods:
arguments, directives, enum_values, field_on_visible_interface?,
fields, get_field, get_type, initialize, interfaces, orphan_type?,
possible_types, reachable_type?, reachable_type_set,
reachable_types, read_through, referenced?, root_type?,
root_type_for_operation, types, unfiltered_interfaces,
union_memberships, visible?, visible_abstract_type?,
visible_argument?, visible_field?, visible_possible_types?,
visible_type?</p>

